{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/artemiza/Desktop/pelis/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/artemiza/Desktop/pelis/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/artemiza/Desktop/pelis/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/artemiza/Desktop/pelis/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/artemiza/Desktop/pelis/src/components/movies/Search.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  input {\\n    max-width: 200px;\\n  }\\n  i {\\n    height: 2em;\\n    width: 2em;\\n    color: black;\\n  }\\n  button {\\n    width: auto;\\n    display:none;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useStateValue } from \"../../store/stateProvider\";\nimport { actionTypes } from \"../../store/reducer\";\nimport fetch from 'isomorphic-fetch';\nvar accessToken = \"6f633e37\";\nexport var Search = function Search(props) {\n  _s();\n\n  var _useState = useState(\"\"),\n      input = _useState[0],\n      setInput = _useState[1];\n\n  var _useStateValue = useStateValue(),\n      _useStateValue2 = _slicedToArray(_useStateValue, 2),\n      data = _useStateValue2[0],\n      dispatch = _useStateValue2[1];\n\n  var onSearchSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res, pelis;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return fetch(\"https://www.omdbapi.com/?apikey=\".concat(accessToken, \"&s=\").concat(input, \"&page=2\"));\n\n            case 3:\n              res = _context.sent;\n              _context.next = 6;\n              return res.json();\n\n            case 6:\n              pelis = _context.sent;\n              addData(pelis);\n              console.log(pelis, \"respuesta pedido\");\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSearchSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var addData = function addData(data) {\n    dispatch({\n      type: actionTypes.ADD_DATA,\n      data: data\n    });\n  };\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var res, pelis;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(!input && data.films.length == 0)) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 3;\n            return fetch(\"https://www.omdbapi.com/?apikey=\".concat(accessToken, \"&s=marvel&page=3\"));\n\n          case 3:\n            res = _context2.sent;\n            _context2.next = 6;\n            return res.json();\n\n          case 6:\n            pelis = _context2.sent;\n            addData(pelis);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [input]);\n  return /*#__PURE__*/_jsxDEV(SearchContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSearchSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: function onChange(e) {\n          return setInput(e.target.value);\n        },\n        type: \"input\",\n        placeholder: \"buscar...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Search, \"vs4mL+DaZmvX6Ghq/at1LClsQDg=\", false, function () {\n  return [useStateValue];\n});\n\n_c = Search;\nvar SearchContainer = styled.div(_templateObject());\n_c2 = SearchContainer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Search\");\n$RefreshReg$(_c2, \"SearchContainer\");","map":{"version":3,"sources":["/home/artemiza/Desktop/pelis/src/components/movies/Search.jsx"],"names":["React","useState","useEffect","styled","useStateValue","actionTypes","fetch","accessToken","Search","props","input","setInput","data","dispatch","onSearchSubmit","e","preventDefault","res","json","pelis","addData","console","log","type","ADD_DATA","films","length","target","value","SearchContainer","div"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,IAAMC,WAAW,GAAG,UAApB;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAW;AAAA;;AAAA,kBACLR,QAAQ,CAAC,EAAD,CADH;AAAA,MACxBS,KADwB;AAAA,MACjBC,QADiB;;AAAA,uBAENP,aAAa,EAFP;AAAA;AAAA,MAExBQ,IAFwB;AAAA,MAElBC,QAFkB;;AAK/B,MAAMC,cAAc;AAAA,wEAAC,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBA,cAAAA,CAAC,CAACC,cAAF;AADmB;AAAA,qBAEDV,KAAK,2CACcC,WADd,gBAC+BG,KAD/B,aAFJ;;AAAA;AAEbO,cAAAA,GAFa;AAAA;AAAA,qBAMCA,GAAG,CAACC,IAAJ,EAND;;AAAA;AAMbC,cAAAA,KANa;AAOnBC,cAAAA,OAAO,CAACD,KAAD,CAAP;AACAE,cAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAkB,kBAAlB;;AARmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAdL,cAAc;AAAA;AAAA;AAAA,KAApB;;AAWA,MAAMM,OAAO,GAAG,SAAVA,OAAU,CAACR,IAAD,EAAU;AACxBC,IAAAA,QAAQ,CAAC;AACPU,MAAAA,IAAI,EAAElB,WAAW,CAACmB,QADX;AAEPZ,MAAAA,IAAI,EAAEA;AAFC,KAAD,CAAR;AAID,GALD;;AAOAV,EAAAA,SAAS,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACL,CAACQ,KAAD,IAAQE,IAAI,CAACa,KAAL,CAAWC,MAAX,IAAmB,CADtB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAEYpB,KAAK,2CACcC,WADd,sBAFjB;;AAAA;AAEAU,YAAAA,GAFA;AAAA;AAAA,mBAKcA,GAAG,CAACC,IAAJ,EALd;;AAAA;AAKAC,YAAAA,KALA;AAONC,YAAAA,OAAO,CAACD,KAAD,CAAP;;AAPM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAUN,CAACT,KAAD,CAVM,CAAT;AAYA,sBACE,QAAC,eAAD;AAAA,2BACE;AAAM,MAAA,QAAQ,EAAEI,cAAhB;AAAA,8BACE;AACE,QAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,iBAAOJ,QAAQ,CAACI,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf;AAAA,SADZ;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,WAAW,EAAC;AAHd;AAAA;AAAA;AAAA;AAAA,eADF,eAME;AAAQ,QAAA,IAAI,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,eANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAaD,CAhDM;;GAAMpB,M;UAEcJ,a;;;KAFdI,M;AAiDb,IAAMqB,eAAe,GAAG1B,MAAM,CAAC2B,GAAV,mBAArB;MAAMD,e","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useStateValue } from \"../../store/stateProvider\";\nimport { actionTypes } from \"../../store/reducer\";\nimport fetch from 'isomorphic-fetch'\nconst accessToken = \"6f633e37\";\n\nexport const Search = (props) => {\n  const [input, setInput] = useState(\"\");\n  const [data, dispatch] = useStateValue();\n  \n\n  const onSearchSubmit=async(e)=>{\n    e.preventDefault();\n    const res = await fetch(\n      `https://www.omdbapi.com/?apikey=${accessToken}&s=${input}&page=2`\n    )\n\n    const pelis = await res.json()\n    addData(pelis)\n    console.log(pelis,\"respuesta pedido\")\n  }\n\n  const addData = (data) => {\n    dispatch({\n      type: actionTypes.ADD_DATA,\n      data: data,\n    });\n  };\n\n  useEffect(async () => {\n    if(!input&&data.films.length==0){\n      const res = await fetch(\n        `https://www.omdbapi.com/?apikey=${accessToken}&s=marvel&page=3`\n      )\n      const pelis = await res.json()\n\n      addData(pelis)\n    }\n\n  }, [input]);\n\n  return (\n    <SearchContainer>\n      <form onSubmit={onSearchSubmit}>\n        <input\n          onChange={(e) => setInput(e.target.value)}\n          type=\"input\"\n          placeholder=\"buscar...\"\n        />\n        <button type=\"submit\" >\n        </button>\n      </form>\n    </SearchContainer>\n  );\n};\nconst SearchContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  input {\n    max-width: 200px;\n  }\n  i {\n    height: 2em;\n    width: 2em;\n    color: black;\n  }\n  button {\n    width: auto;\n    display:none;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}