{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useStateValue } from \"../../store/stateProvider\";\nimport { actionTypes } from \"../../store/reducer\";\nimport fetch from 'isomorphic-fetch';\nconst accessToken = \"6f633e37\";\nexport const Search = props => {\n  const {\n    0: input,\n    1: setInput\n  } = useState(\"\");\n  const [data, dispatch] = useStateValue();\n\n  const onSearchSubmit = async e => {\n    e.preventDefault();\n    const res = await fetch(`https://www.omdbapi.com/?apikey=${accessToken}&s=${input}&page=2`);\n    const pelis = await res.json();\n    addData(pelis);\n    console.log(pelis, \"respuesta pedido\");\n  };\n\n  const addData = data => {\n    dispatch({\n      type: actionTypes.ADD_DATA,\n      data: data\n    });\n  };\n\n  useEffect(async () => {\n    if (!input && data.films.length == 0) {\n      const res = await fetch(`https://www.omdbapi.com/?apikey=${accessToken}&s=marvel&page=3`);\n      const pelis = await res.json();\n      addData(pelis);\n    }\n  }, [input]);\n  return /*#__PURE__*/_jsx(SearchContainer, {\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: onSearchSubmit,\n      children: [/*#__PURE__*/_jsx(\"input\", {\n        onChange: e => setInput(e.target.value),\n        type: \"input\",\n        placeholder: \"buscar...\"\n      }), /*#__PURE__*/_jsx(\"button\", {\n        type: \"submit\"\n      })]\n    })\n  });\n};\nconst SearchContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  input {\n    max-width: 200px;\n  }\n  i {\n    height: 2em;\n    width: 2em;\n    color: black;\n  }\n  button {\n    width: auto;\n    display:none;\n  }\n`;","map":null,"metadata":{},"sourceType":"module"}